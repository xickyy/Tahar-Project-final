{"ast":null,"code":"import { csrfFetch } from './csrf';\nconst SET_REVIEWS = 'reviews/SET_REVIEWS';\nexport const setReviews = payload => {\n  return {\n    type: SET_REVIEWS,\n    payload\n  };\n};\nexport const getReviews = () => async dispatch => {\n  const response = await csrfFetch(`/google-reviews`);\n  if (response.ok) {\n    const reviews = await response.json();\n    dispatch(setReviews(reviews));\n  }\n  return response.ok;\n};\nconst initialState = () => {\n  const reviewsObj = {};\n  return reviewsObj;\n};\nconst reviewsReducer = (state = initialState(), action) => {\n  const newState = {\n    ...state\n  };\n  switch (action.type) {\n    case SET_REVIEWS:\n      newState.reviews = {};\n      action.payload.forEach(review => newState.review[review.id] = review);\n      return newState;\n    default:\n      return state;\n  }\n};\nexport default reviewsReducer;","map":{"version":3,"names":["csrfFetch","SET_REVIEWS","setReviews","payload","type","getReviews","dispatch","response","ok","reviews","json","initialState","reviewsObj","reviewsReducer","state","action","newState","forEach","review","id"],"sources":["/home/ricky/TaharGarage/garage-door-site/src/store/reviews.js"],"sourcesContent":["import { csrfFetch } from './csrf'\n\nconst SET_REVIEWS = 'reviews/SET_REVIEWS'\n\n\nexport const setReviews = (payload) => {\n  return {\n    type: SET_REVIEWS,\n    payload\n  }\n}\n\nexport const getReviews = () => async (dispatch) => {\n  const response = await csrfFetch(`/google-reviews`)\n  if (response.ok) {\n    const reviews = await response.json()\n    dispatch(setReviews(reviews))\n  }\n  return response.ok\n}\n\n\nconst initialState = () => {\n  const reviewsObj = {};\n  return reviewsObj\n}\n\nconst reviewsReducer = (state = initialState(), action) => {\n  const newState = { ...state }\n  switch (action.type) {\n    case SET_REVIEWS:\n      newState.reviews = {}\n      action.payload.forEach(review => newState.review[review.id] = review)\n      return newState;\n\n    default:\n      return state\n  }\n}\n\nexport default reviewsReducer;\n"],"mappings":"AAAA,SAASA,SAAS,QAAQ,QAAQ;AAElC,MAAMC,WAAW,GAAG,qBAAqB;AAGzC,OAAO,MAAMC,UAAU,GAAIC,OAAO,IAAK;EACrC,OAAO;IACLC,IAAI,EAAEH,WAAW;IACjBE;EACF,CAAC;AACH,CAAC;AAED,OAAO,MAAME,UAAU,GAAGA,CAAA,KAAM,MAAOC,QAAQ,IAAK;EAClD,MAAMC,QAAQ,GAAG,MAAMP,SAAS,CAAE,iBAAgB,CAAC;EACnD,IAAIO,QAAQ,CAACC,EAAE,EAAE;IACf,MAAMC,OAAO,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;IACrCJ,QAAQ,CAACJ,UAAU,CAACO,OAAO,CAAC,CAAC;EAC/B;EACA,OAAOF,QAAQ,CAACC,EAAE;AACpB,CAAC;AAGD,MAAMG,YAAY,GAAGA,CAAA,KAAM;EACzB,MAAMC,UAAU,GAAG,CAAC,CAAC;EACrB,OAAOA,UAAU;AACnB,CAAC;AAED,MAAMC,cAAc,GAAGA,CAACC,KAAK,GAAGH,YAAY,CAAC,CAAC,EAAEI,MAAM,KAAK;EACzD,MAAMC,QAAQ,GAAG;IAAE,GAAGF;EAAM,CAAC;EAC7B,QAAQC,MAAM,CAACX,IAAI;IACjB,KAAKH,WAAW;MACde,QAAQ,CAACP,OAAO,GAAG,CAAC,CAAC;MACrBM,MAAM,CAACZ,OAAO,CAACc,OAAO,CAACC,MAAM,IAAIF,QAAQ,CAACE,MAAM,CAACA,MAAM,CAACC,EAAE,CAAC,GAAGD,MAAM,CAAC;MACrE,OAAOF,QAAQ;IAEjB;MACE,OAAOF,KAAK;EAChB;AACF,CAAC;AAED,eAAeD,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}